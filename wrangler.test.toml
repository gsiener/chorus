# Test configuration - excludes bindings that require remote mode
name = "chorus"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[vars]
OTEL_NODE_RESOURCE_DETECTORS = "none"

# KV namespace for knowledge base documents (mocked in tests)
[[kv_namespaces]]
binding = "DOCS_KV"
id = "test-kv-id"

# Note: VECTORIZE and AI bindings are mocked in test files
# They're excluded here because they require remote mode which needs auth

# Import .md files as text modules
[[rules]]
type = "Text"
globs = ["**/*.md"]
fallthrough = true
